From bbbaae1770365a4bad36c31861f41857cf2c584c Mon Sep 17 00:00:00 2001
From: Evelyn Tsai <evelyn.tsai@mediatek.com>
Date: Fri, 28 Jul 2023 06:41:37 +0800
Subject: [PATCH 8/8] wifi: mt76: mt7915: fix tlv length of
 mt7915_mcu_get_chan_mib_info

---
 mt7915/mcu.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/mt7915/mcu.c b/mt7915/mcu.c
index cc91df8..a34b75d 100644
--- a/mt7915/mcu.c
+++ b/mt7915/mcu.c
@@ -3048,7 +3048,7 @@ int mt7915_mcu_get_chan_mib_info(struct mt7915_phy *phy, bool chan_switch)
 	}
 
 	ret = mt76_mcu_send_and_get_msg(&dev->mt76, MCU_EXT_CMD(GET_MIB_INFO),
-					req, sizeof(req), true, &skb);
+					req, len * sizeof(req[0]), true, &skb);
 	if (ret)
 		return ret;
 
-- 
2.18.0

